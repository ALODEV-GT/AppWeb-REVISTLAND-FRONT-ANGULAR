"use strict";(self.webpackChunkrevistland=self.webpackChunkrevistland||[]).push([[126],{3126:(Nt,F,l)=>{l.r(F),l.d(F,{EditorModule:()=>Et});var d=l(8583),h=l(4655),t=l(7716),N=l(2522),f=l(1095),x=l(5384),R=l(6627);let J=(()=>{class o{constructor(e){this.router=e}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-inicio"]],decls:28,vars:1,consts:[[1,"toolbar"],["routerLink","./publicar",1,"clickeable"],[1,"spacer"],["routerLink","./publicar","mat-raised-button","","color","primary",1,"boton"],["routerLink","./mis-revistas","mat-raised-button","","color","primary",1,"boton"],["routerLink","./reportes/listado","mat-raised-button","","color","primary",1,"boton"],["mat-icon-button","",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","45","height","45","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-caret-down"],["d","M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"],["menu","matMenu"],["mat-menu-item","","routerLink","/editor/perfil"],["mat-menu-item","","routerLink","/autenticacion/login"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"mat-toolbar",0),t.TgZ(2,"span",1),t._uU(3,"REVISTLAND"),t.qZA(),t._UZ(4,"span",2),t.TgZ(5,"button",3),t._uU(6,"Publicar nueva revista"),t.qZA(),t.TgZ(7,"button",4),t._uU(8,"Mis revistas"),t.qZA(),t.TgZ(9,"button",5),t._uU(10,"Reportes"),t.qZA(),t._UZ(11,"span",2),t.TgZ(12,"button",6),t.O4$(),t.TgZ(13,"svg",7),t._UZ(14,"path",8),t.qZA(),t.qZA(),t.kcU(),t.TgZ(15,"mat-menu",null,9),t.TgZ(17,"button",10),t.TgZ(18,"mat-icon"),t._uU(19,"person"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"Perfil"),t.qZA(),t.qZA(),t.TgZ(22,"button",11),t.TgZ(23,"mat-icon"),t._uU(24,"logout"),t.qZA(),t.TgZ(25,"span"),t._uU(26,"Salir"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"router-outlet")),2&e){const r=t.MAs(16);t.xp6(12),t.Q6J("matMenuTriggerFor",r)}},directives:[N.Ye,h.rH,f.lW,x.p6,x.VK,x.OP,R.Hw,h.lC],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.full-width[_ngcontent-%COMP%]{width:60%}.toolbar[_ngcontent-%COMP%]{height:100px}.buscador[_ngcontent-%COMP%]{font-size:25px}.boton[_ngcontent-%COMP%]{height:50%;width:20%;font-size:25px;margin:0 20px}.clickeable[_ngcontent-%COMP%]{cursor:pointer}"]}),o})();var V=l(1068),a=l(3679),O=l(6461);class k{constructor(n,e,i,r,s,c,u,p,g){this._idRevista=n,this._nombre=e,this._descripcion=i,this._costoMes=r,this._costoAnio=s,this._esInteractiva=c,this._permitirSuscripciones=u,this._categorias=p,this._etiquetas=g}get etiquetas(){return this._etiquetas}set etiquetas(n){this._etiquetas=n}get categorias(){return this._categorias}set categorias(n){this._categorias=n}get permitirSuscripciones(){return this._permitirSuscripciones}set permitirSuscripciones(n){this._permitirSuscripciones=n}get esInteractiva(){return this._esInteractiva}set esInteractiva(n){this._esInteractiva=n}get costoAnio(){return this._costoAnio}set costoAnio(n){this._costoAnio=n}get costoMes(){return this._costoMes}set costoMes(n){this._costoMes=n}get descripcion(){return this._descripcion}set descripcion(n){this._descripcion=n}get nombre(){return this._nombre}set nombre(n){this._nombre=n}get idRevista(){return this._idRevista}set idRevista(n){this._idRevista=n}}class M{constructor(n,e,i,r,s){this._idVolumen=n,this._idRevista=e,this._nombreVolumen=i,this._fechaPublicacion=r,this._idArchivo=s}get idArchivo(){return this._idArchivo}set idArchivo(n){this._idArchivo=n}get fechaPublicacion(){return this._fechaPublicacion}set fechaPublicacion(n){this._fechaPublicacion=n}get nombreVolumen(){return this._nombreVolumen}set nombreVolumen(n){this._nombreVolumen=n}get idRevista(){return this._idRevista}set idRevista(n){this._idRevista=n}get idVolumen(){return this._idVolumen}set idVolumen(n){this._idVolumen=n}}class Y{constructor(n,e,i,r){this._idPublicacion=n,this._fechaPublicacion=e,this._idRevista=i,this._nombreUsuario=r}get nombreUsuario(){return this._nombreUsuario}set nombreUsuario(n){this._nombreUsuario=n}get idRevista(){return this._idRevista}set idRevista(n){this._idRevista=n}get fechaPublicacion(){return this._fechaPublicacion}set fechaPublicacion(n){this._fechaPublicacion=n}get idPublicacion(){return this._idPublicacion}set idPublicacion(n){this._idPublicacion=n}}var z=l(9947),b=l(614),S=l(1841);let C=(()=>{class o{constructor(e){this.http=e,this.baseUrl="http://localhost:8080/REVISTLAND/controladorPublicarRevista"}subirArchivoVolumen(e){const i=new FormData;return i.append("datafile",e,e.name),this.http.post(`${this.baseUrl}?accion=subirArchivoRevista`,i)}agregarRevista(e){return this.http.post(`${this.baseUrl}?accion=crearRevista`,e)}agregarVolumen(e){return this.http.post(`${this.baseUrl}?accion=crearVolumen`,e)}agregarPublicacion(e){return this.http.post(`${this.baseUrl}?accion=crearPublicacion`,e)}eliminarVolumen(e){return this.http.get(`${this.baseUrl}?accion=eliminarVolumen&idArchivo=${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(S.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var q=l(6458),v=l(2839),m=l(3738),Z=l(8295),U=l(9983),L=l(7441),A=l(8341),I=l(1769),$=l(2458);function G(o,n){1&o&&(t.TgZ(0,"div",31),t._uU(1," Almenos selecciona una categoria "),t.qZA())}function j(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",32),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().agregarCategoria(s)}),t._uU(1),t.ALo(2,"titlecase"),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Q(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip",33),t._uU(1),t.ALo(2,"titlecase"),t.TgZ(3,"button",34),t.TgZ(4,"mat-icon",35),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().cancelarCategoria(s)}),t._uU(5,"cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}function H(o,n){1&o&&(t.TgZ(0,"div",31),t._uU(1," Almenos selecciona una etiqueta "),t.qZA())}function D(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",32),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().agregarEtiqueta(s)}),t._uU(1),t.ALo(2,"titlecase"),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function B(o,n){1&o&&(t.TgZ(0,"button",34),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t.qZA())}function X(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip",36),t.NdJ("removed",function(){const s=t.CHM(e).$implicit;return t.oxw().remove(s)}),t._uU(1),t.ALo(2,"titlecase"),t.YNc(3,B,3,0,"button",37),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.Q6J("selectable",i.selectable)("removable",i.removable),t.xp6(1),t.hij(" ",t.lcZ(2,4,e)," "),t.xp6(2),t.Q6J("ngIf",i.removable)}}function K(o,n){1&o&&(t.TgZ(0,"div",31),t._uU(1," Ingresa un valor valido "),t.qZA())}function W(o,n){1&o&&(t.TgZ(0,"div",31),t._uU(1," Ingresa un valor valido "),t.qZA())}function tt(o,n){1&o&&(t.TgZ(0,"div",31),t._uU(1," Debes subir el primer volumen "),t.qZA())}let et=(()=>{class o{constructor(e,i,r,s,c,u,p){this.fb=e,this.perfilService=i,this.usuarioService=r,this.publicarRevistaService=s,this.router=c,this.snackBar=u,this.fechaService=p,this.miFormulario=this.fb.group({nombre:["",a.kI.required],descripcion:["",a.kI.required],costoMes:["",a.kI.required],costoAnio:["",a.kI.required],fechaPublicacion:[`${this.fechaActual()}`,a.kI.required],nobrePrimerVolumen:["",a.kI.required]}),this.hayEtiquetas=!0,this.hayCategorias=!0,this.costoMesInvalido=!1,this.costoAnioInvalido=!1,this.archivoSubido=!0,this.allCategorias=[],this.allEtiquetas=[],this.categorias=[],this.etiquetas=[],this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[O.K5,O.OC],this.usuario=this.usuarioService.getUsuarioAutenticado(),this.perfilService.obtenerCategorias().subscribe(g=>this.allCategorias=g),this.perfilService.obtenerEtiquetas().subscribe(g=>this.allEtiquetas=g)}ngOnInit(){this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaPublicacion.setValue(e.fecha)})}fechaActual(){return new Date(Date.now()).toISOString().split("T")[0]}publicarRevista(){var e,i;if(!this.usuario)return void this.router.navigate(["./autenticacion/login"]);if(this.miFormulario.invalid)return void this.miFormulario.markAllAsTouched();if(0===this.categorias.length)return void(this.hayCategorias=!1);if(0===this.etiquetas.length)return void(this.hayEtiquetas=!1);const r=null===(e=this.miFormulario.get("costoMes"))||void 0===e?void 0:e.value,s=null===(i=this.miFormulario.get("costoAnio"))||void 0===i?void 0:i.value;Number(r)<0||isNaN(Number(r))?this.costoMesInvalido=!0:Number(s)<0||isNaN(Number(s))?this.costoAnioInvalido=!0:this.archivo?this.guardarRevista():this.archivoSubido=!1}crearPublicacion(e){var i,r;const s=null===(i=this.miFormulario.get("fechaPublicacion"))||void 0===i?void 0:i.value,c=null===(r=this.usuario)||void 0===r?void 0:r.nombre,u=new Y(0,s,e,c);this.publicarRevistaService.agregarPublicacion(u).subscribe(p=>{this.mostrarSnakBar("Se ha publicado tu revista"),this.limpiarForm(),this.router.navigate(["/editor/mis-revistas"])})}guardarVolumen(e,i){var r,s;const c=null===(r=this.miFormulario.get("nobrePrimerVolumen"))||void 0===r?void 0:r.value,u=null===(s=this.miFormulario.get("fechaPublicacion"))||void 0===s?void 0:s.value,p=new M(0,e,c,u,i);this.publicarRevistaService.agregarVolumen(p).subscribe(g=>{this.crearPublicacion(e)})}guardarRevista(){var e,i,r,s;const c=null===(e=this.miFormulario.get("nombre"))||void 0===e?void 0:e.value,u=null===(i=this.miFormulario.get("descripcion"))||void 0===i?void 0:i.value,p=null===(r=this.miFormulario.get("costoMes"))||void 0===r?void 0:r.value,g=null===(s=this.miFormulario.get("costoAnio"))||void 0===s?void 0:s.value,P=new k(0,c,u,Number(p),Number(g),1,1,this.categorias,this.etiquetas);this.publicarRevistaService.agregarRevista(P).subscribe(E=>{console.log("El id de la revista es: "+E.id),this.subirArchivo(E.id)})}cancelarCategoria(e){let i=this.categorias.indexOf(e);this.categorias.splice(i,1)}agregarCategoria(e){this.categorias.includes(e.toUpperCase())||(this.hayCategorias=!0,this.categorias.push(e.toUpperCase()))}add(e){const i=(e.value||"").trim();i&&!this.etiquetas.includes(i.toUpperCase())&&(this.hayEtiquetas=!0,this.etiquetas.push(i.toUpperCase())),e.chipInput.clear()}agregarEtiqueta(e){const i=e.trim();i&&!this.etiquetas.includes(i.toUpperCase())&&(this.hayEtiquetas=!0,this.etiquetas.push(i.toUpperCase()))}remove(e){const i=this.etiquetas.indexOf(e);i>=0&&this.etiquetas.splice(i,1)}fileUpload(e){const i=e.target.files;null!=i&&(this.archivo=i.item(0),console.log(this.archivo))}subirArchivo(e){null!=this.archivo&&this.publicarRevistaService.subirArchivoVolumen(this.archivo).subscribe(i=>{this.guardarVolumen(e,i.id)})}mostrarSnakBar(e){this.snackBar.open(e,"ok",{duration:3e3})}limpiarForm(){this.miFormulario.reset(),this.categorias=[],this.etiquetas=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(z.F),t.Y36(b.i),t.Y36(C),t.Y36(h.F0),t.Y36(q.ux),t.Y36(v.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-publicar"]],decls:71,vars:13,consts:[[1,"contenedor"],[1,"cuadrado"],[1,"tamano","redondear"],["id","header",1,"centrar"],["autocomplete","off",3,"formGroup","ngSubmit"],["appearance","legacy",1,"full-width","elemento"],["formControlName","nombre","type","text","matInput",""],["appearance","outline",1,"full-width",2,"font-size","23px"],["formControlName","descripcion","matInput","",1,"text-area"],[1,"subtitulo"],["class","form-text text-danger",4,"ngIf"],["appearance","outline"],[3,"value","click",4,"ngFor","ngForOf"],["color","accent","selected","",4,"ngFor","ngForOf"],["appearance","outline",1,"full-width"],["aria-label","Fruit selection"],["chipList",""],["color","warn","selected","",3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Agregar nueva etiqueta",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["appearance","outline",1,"full-width","elemento"],["formControlName","costoMes","type","number","matInput",""],["formControlName","costoAnio","type","number","matInput",""],[1,"elemento"],["formControlName","fechaPublicacion","type","date",1,"select-date"],["formControlName","nobrePrimerVolumen","type","text","matInput",""],["type","file",1,"invisible",3,"change"],["archivoInput",""],["mat-raised-button","","type","button","color","primary",1,"full-width","elemento",3,"click"],[1,"boton"],["mat-raised-button","","type","submit","color","accent",1,"elemento"],["id","contenido"],[1,"form-text","text-danger"],[3,"value","click"],["color","accent","selected",""],["matChipRemove",""],[3,"click"],["color","warn","selected","",3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div"),t._UZ(2,"div",1),t.TgZ(3,"div"),t.TgZ(4,"mat-card",2),t.TgZ(5,"div"),t.TgZ(6,"mat-card-header",3),t._UZ(7,"br"),t._uU(8," Nueva revista "),t.qZA(),t.qZA(),t.TgZ(9,"form",4),t.NdJ("ngSubmit",function(){return i.publicarRevista()}),t.TgZ(10,"mat-form-field",5),t.TgZ(11,"mat-label"),t._uU(12,"Nombre de revista"),t.qZA(),t._UZ(13,"input",6),t.qZA(),t.TgZ(14,"mat-form-field",7),t.TgZ(15,"mat-label"),t._uU(16,"Descripcion"),t.qZA(),t._UZ(17,"textarea",8),t.qZA(),t.TgZ(18,"div",9),t._uU(19,"Categorias"),t.qZA(),t.YNc(20,G,2,0,"div",10),t.TgZ(21,"mat-form-field",11),t.TgZ(22,"mat-label"),t._uU(23,"Seleccionar"),t.qZA(),t.TgZ(24,"mat-select"),t.YNc(25,j,3,4,"mat-option",12),t.qZA(),t.qZA(),t.TgZ(26,"mat-chip-list"),t.YNc(27,Q,6,3,"mat-chip",13),t.qZA(),t._UZ(28,"br"),t.TgZ(29,"div",9),t._uU(30,"Etiquetas"),t.qZA(),t.YNc(31,H,2,0,"div",10),t.TgZ(32,"mat-form-field",11),t.TgZ(33,"mat-label"),t._uU(34,"Seleccionar"),t.qZA(),t.TgZ(35,"mat-select"),t.YNc(36,D,3,4,"mat-option",12),t.qZA(),t.qZA(),t.TgZ(37,"mat-form-field",14),t.TgZ(38,"mat-chip-list",15,16),t.YNc(40,X,4,6,"mat-chip",17),t.TgZ(41,"input",18),t.NdJ("matChipInputTokenEnd",function(c){return i.add(c)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(42,K,2,0,"div",10),t.TgZ(43,"mat-form-field",19),t.TgZ(44,"mat-label"),t._uU(45,"Costo de suscripcion por mes"),t.qZA(),t._UZ(46,"input",20),t.qZA(),t.YNc(47,W,2,0,"div",10),t.TgZ(48,"mat-form-field",19),t.TgZ(49,"mat-label"),t._uU(50,"Costo de suscripcion por a\xf1o"),t.qZA(),t._UZ(51,"input",21),t.qZA(),t.TgZ(52,"div",22),t.TgZ(53,"label"),t._uU(54,"Fecha de publicacion: "),t.qZA(),t._UZ(55,"input",23),t.qZA(),t._UZ(56,"mat-divider"),t._UZ(57,"br"),t.TgZ(58,"mat-form-field",14),t.TgZ(59,"mat-label"),t._uU(60,"Nombre primer volumen"),t.qZA(),t._UZ(61,"input",24),t.qZA(),t.TgZ(62,"input",25,26),t.NdJ("change",function(c){return i.fileUpload(c)}),t.qZA(),t.YNc(64,tt,2,0,"div",10),t.TgZ(65,"button",27),t.NdJ("click",function(){return t.CHM(r),t.MAs(63).click()}),t._uU(66," Subir primer volumen "),t.qZA(),t.TgZ(67,"div",28),t.TgZ(68,"button",29),t._uU(69," Publicar "),t.qZA(),t.qZA(),t.qZA(),t._UZ(70,"mat-card-content",30),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=t.MAs(39);t.xp6(9),t.Q6J("formGroup",i.miFormulario),t.xp6(11),t.Q6J("ngIf",!i.hayCategorias),t.xp6(5),t.Q6J("ngForOf",i.allCategorias),t.xp6(2),t.Q6J("ngForOf",i.categorias),t.xp6(4),t.Q6J("ngIf",!i.hayEtiquetas),t.xp6(5),t.Q6J("ngForOf",i.allEtiquetas),t.xp6(4),t.Q6J("ngForOf",i.etiquetas),t.xp6(1),t.Q6J("matChipInputFor",r)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),t.xp6(1),t.Q6J("ngIf",i.costoMesInvalido),t.xp6(5),t.Q6J("ngIf",i.costoAnioInvalido),t.xp6(17),t.Q6J("ngIf",!i.archivoSubido)}},directives:[m.a8,m.dk,a._Y,a.JL,a.sg,Z.KE,Z.hX,a.Fj,U.Nt,a.JJ,a.u,d.O5,L.gD,d.sg,A.qn,A.oH,a.wV,I.d,f.lW,m.dn,$.ey,A.HS,A.qH,R.Hw],pipes:[d.rS],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#5e60ce}.cuadrado[_ngcontent-%COMP%]{width:20px;height:3%}.tamano[_ngcontent-%COMP%]{width:550px;height:min-content}.full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.titulo[_ngcontent-%COMP%]{font-size:35px}.subtitulo[_ngcontent-%COMP%]{font-size:23px}.elemento[_ngcontent-%COMP%]{margin:15px 0;font-size:23px}.text-area[_ngcontent-%COMP%]{font-size:23px;height:100px}.boton[_ngcontent-%COMP%]{display:flex;justify-content:center}.select-date[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777777;width:57%;font-size:23px;background:#424242;color:#ffebcd}"]}),o})();var y=l(842),_=l(5618);class w{constructor(n,e,i){this._idRevista=n,this._permitir=e,this._idPublicacion=i}get idPublicacion(){return this._idPublicacion}set idPublicacion(n){this._idPublicacion=n}get permitir(){return this._permitir}set permitir(n){this._permitir=n}get idRevista(){return this._idRevista}set idRevista(n){this._idRevista=n}}var it=l(2351),ot=l(5828),nt=l(4307),rt=l(4021),at=l(5396);function st(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"a",21),t.O4$(),t.TgZ(7,"svg",22),t._UZ(8,"path",23),t._UZ(9,"path",24),t.qZA(),t.qZA(),t.kcU(),t._UZ(10,"span",25),t.TgZ(11,"button",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).eliminarVolumen(s.idArchivo)}),t.O4$(),t.TgZ(12,"svg",27),t._UZ(13,"path",28),t._UZ(14,"path",29),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(e.nombreVolumen),t.xp6(2),t.Oqu(e.fechaPublicacion),t.xp6(2),t.s9C("href",i.baseUrl+e.idArchivo,t.LSH)}}function ct(o,n){if(1&o){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"mat-card-actions"),t.TgZ(1,"div",30),t.TgZ(2,"div",31),t._uU(3," Permitir suscripcion "),t.TgZ(4,"mat-slide-toggle",32),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).slideSuscripcion()}),t.qZA(),t.qZA(),t._UZ(5,"div",33),t.TgZ(6,"div",31),t._uU(7," Permitir interacciones "),t.TgZ(8,"mat-slide-toggle",32),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).slideEsInteractiva()}),t.qZA(),t.qZA(),t._UZ(9,"div",33),t.TgZ(10,"div",30),t.TgZ(11,"div",31),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.TgZ(14,"span"),t.O4$(),t.TgZ(15,"svg",34),t._UZ(16,"path",35),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t._UZ(17,"div",33),t.TgZ(18,"div",31),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.TgZ(21,"span",36),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).mostrarComentarios()}),t.O4$(),t.TgZ(22,"svg",37),t._UZ(23,"path",38),t._UZ(24,"path",39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("checked",e.permitirSuscripciones.permitir),t.xp6(4),t.Q6J("checked",e.permitirInteracciones.permitir),t.xp6(5),t.Oqu(e.revista.numMeGustas),t.xp6(7),t.hij(" ",e.revista.numComentarios," ")}}function lt(o,n){if(1&o&&(t.TgZ(0,"div",11),t.TgZ(1,"div",12),t._uU(2),t.qZA(),t.TgZ(3,"div",41),t._uU(4),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.hij(" ",e.nombreUsuario," "),t.xp6(2),t.hij(" ",e.comentario," ")}}function ut(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,lt,5,2,"div",40),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.revista.comentarios)}}const mt=function(o){return["/editor/agregar-volumen/",o]};function pt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",1),t.TgZ(1,"mat-card-header",2),t._uU(2),t.qZA(),t._UZ(3,"br"),t._UZ(4,"br"),t.TgZ(5,"mat-card-content"),t.TgZ(6,"table",3),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"Nombre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Fecha"),t.qZA(),t._UZ(13,"th"),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,st,15,3,"tr",4),t.TgZ(16,"tr"),t.TgZ(17,"td",5),t.TgZ(18,"button",6),t.O4$(),t.TgZ(19,"svg",7),t._UZ(20,"path",8),t._UZ(21,"path",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,ct,25,4,"mat-card-actions",10),t.kcU(),t._UZ(23,"mat-divider"),t._UZ(24,"br"),t.TgZ(25,"mat-card-footer"),t.YNc(26,ut,2,1,"div",10),t.TgZ(27,"div",11),t.TgZ(28,"div",12),t._uU(29),t.qZA(),t.TgZ(30,"form",13),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().comentar()}),t.TgZ(31,"mat-form-field",14),t.TgZ(32,"mat-label"),t._uU(33,"Escribe un comentario..."),t.qZA(),t._UZ(34,"input",15),t.qZA(),t.TgZ(35,"div",16),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"button",18),t.O4$(),t.TgZ(38,"svg",19),t._UZ(39,"path",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.revista.nombreRevista," "),t.xp6(13),t.Q6J("ngForOf",e.revista.volumenes),t.xp6(3),t.Q6J("routerLink",t.VKq(7,mt,e.revista.idRevista)),t.xp6(4),t.Q6J("ngIf",e.permitirInteracciones&&e.permitirSuscripciones),t.xp6(4),t.Q6J("ngIf",e.verComentarios),t.xp6(3),t.hij(" ",null==e.usuario?null:e.usuario.nombre," "),t.xp6(1),t.Q6J("formGroup",e.miFormulario)}}let dt=(()=>{class o{constructor(e,i,r,s,c,u,p,g,P){this.permisosRevistaService=e,this.usuarioService=i,this.fb=r,this.interaccionesService=s,this.detalleRevistaService=c,this.descargarArchivoService=u,this.publicarRevistaService=p,this.snackBar=g,this.fechaService=P,this.baseUrl=this.descargarArchivoService.getBaseUrlArchivos(),this.verComentarios=!1,this.miFormulario=this.fb.group({comentario:["",[a.kI.required]],fechaPublicacion:[`${this.fechaActual()}`,[a.kI.required]]}),this.usuario=this.usuarioService.getUsuarioAutenticado()}ngOnInit(){this.permisosRevistaService.esInteractiva(this.idPublicacion).subscribe(e=>{this.permitirInteracciones=e}),this.permisosRevistaService.permitirSuscripciones(this.idPublicacion).subscribe(e=>{this.permitirSuscripciones=e}),this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaPublicacion.setValue(e.fecha)})}fechaActual(){return new Date(Date.now()).toISOString().split("T")[0]}comentar(){var e,i,r;if(this.miFormulario.invalid)return void this.miFormulario.markAllAsTouched();const s=null===(e=this.miFormulario.get("comentario"))||void 0===e?void 0:e.value,c=null===(i=this.miFormulario.get("fechaPublicacion"))||void 0===i?void 0:i.value;if(0==s.trim().length)return;const u=new it.M(null===(r=this.usuario)||void 0===r?void 0:r.nombre,s,c,this.revista.idPublicacion);this.interaccionesService.comentar(u).subscribe(p=>{this.miFormulario.controls.comentario.setValue(""),this.obtenerDatosRevista()})}obtenerDatosRevista(){this.detalleRevistaService.obtenerVolumenesRevista(this.revista.idRevista).subscribe(e=>{this.revista=e})}slideSuscripcion(){this.permitirSuscripciones.permitir=!this.permitirSuscripciones.permitir;const e=new w(0,this.permitirSuscripciones.permitir,this.idPublicacion);this.permisosRevistaService.cambiarValorPermitirSuscripciones(e).subscribe(i=>i)}slideEsInteractiva(){this.permitirInteracciones.permitir=!this.permitirInteracciones.permitir;const e=new w(0,this.permitirInteracciones.permitir,this.idPublicacion);this.permisosRevistaService.cambiarValorEsInteractiva(e).subscribe(i=>i)}mostrarComentarios(){this.verComentarios=!this.verComentarios}eliminarVolumen(e){this.publicarRevistaService.eliminarVolumen(e).subscribe(i=>{this.mostrarSnakBar("Se ha eliminado el volumen"),this.obtenerDatosRevista()})}mostrarSnakBar(e){this.snackBar.open(e,"ok",{duration:3e3})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ot.T),t.Y36(b.i),t.Y36(a.qu),t.Y36(nt.$),t.Y36(y.V),t.Y36(rt.X),t.Y36(C),t.Y36(q.ux),t.Y36(v.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-revista-publicada"]],inputs:{revista:"revista",idPublicacion:"idPublicacion"},decls:1,vars:1,consts:[["class","redondear-g tamano",4,"ngIf"],[1,"redondear-g","tamano"],[1,"centrar","titulo"],[1,"table","table-bordered","tabla"],[4,"ngFor","ngForOf"],["colspan","3"],["mat-raised-button","","color","primary",1,"max-width",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[4,"ngIf"],[1,"comentarios"],[1,"nombre-usuario"],["fxLayout","row","autocomplete","off",3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["formControlName","comentario","type","text","matInput",""],[1,"elemento"],["formControlName","fechaPublicacion","type","date",1,"select-date"],["type","submit","mat-fab","","color",""],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right-square-fill"],["d","M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z"],["mat-mini-fab","","color","accent","target","_blank",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-file-earmark-pdf"],["d","M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"],["d","M4.603 14.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.697 19.697 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.712 5.712 0 0 1-.911-.95 11.651 11.651 0 0 0-1.997.406 11.307 11.307 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.266.266 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.71 12.71 0 0 1 1.01-.193 11.744 11.744 0 0 1-.51-.858 20.801 20.801 0 0 1-.5 1.05zm2.446.45c.15.163.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.876 3.876 0 0 0-.612-.053zM8.078 7.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"],[2,"margin-right","8px"],["mat-mini-fab","","color","warn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],["fxLayout","row gap"],[1,"actions"],[3,"checked","change"],[1,"spacer"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-thumbs-up"],["d","M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-chat-text",2,"cursor","hand"],["d","M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"],["d","M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"],["class","comentarios",4,"ngFor","ngForOf"],[1,"c-coment"]],template:function(e,i){1&e&&t.YNc(0,pt,40,9,"mat-card",0),2&e&&t.Q6J("ngIf",i.revista)},directives:[d.O5,m.a8,m.dk,m.dn,d.sg,f.lW,h.rH,I.d,m.rt,a._Y,a.JL,_.xw,a.sg,Z.KE,Z.hX,a.Fj,U.Nt,a.JJ,a.u,f.zs,m.hq,at.Rr],styles:[".tabla[_ngcontent-%COMP%]{color:#fff;font-size:20px}.tamano[_ngcontent-%COMP%]{width:50%;min-width:760px}.max-width[_ngcontent-%COMP%]{width:100%}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center}.titulo[_ngcontent-%COMP%]{font-size:30px}.redondear-g[_ngcontent-%COMP%]{border-radius:10px}.actions[_ngcontent-%COMP%]{font-size:22px;margin:0 10px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.comentarios[_ngcontent-%COMP%]{background-color:#585858;border-radius:10px;margin:10px 15px;max-height:min-content}.nombre-usuario[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16px;font-weight:bold;margin-left:7px}.c-coment[_ngcontent-%COMP%]{font-size:15px;margin-left:7px}.select-date[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777777;width:auto;font-size:23px;background:#424242;color:#ffebcd}.elemento[_ngcontent-%COMP%]{margin:15px 0;font-size:23px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),o})();function ht(o,n){if(1&o&&(t.TgZ(0,"div",3),t._UZ(1,"br"),t._UZ(2,"app-revista-publicada",4),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Q6J("revista",e)("idPublicacion",e.idPublicacion)}}let gt=(()=>{class o{constructor(e,i){var r;this.detalleRevistaService=e,this.usuarioService=i,this.usuario=this.usuarioService.getUsuarioAutenticado(),this.detalleRevistaService.obtenerRevistas(null===(r=this.usuario)||void 0===r?void 0:r.nombre).subscribe(s=>{this.revistas=s})}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.V),t.Y36(b.i))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-revistas"]],decls:3,vars:1,consts:[[1,"contenedor"],["fxLayout","column","fxLayout.xs","column","fxLayoutAlign","center"],["fxFlex","45","fxFlex.lg","45","fxFlex.sm","30",4,"ngFor","ngForOf"],["fxFlex","45","fxFlex.lg","45","fxFlex.sm","30"],[3,"revista","idPublicacion"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,ht,3,2,"div",2),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",i.revistas))},directives:[_.xw,_.Wh,d.sg,_.yH,dt],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#5e60ce}"]}),o})();function ft(o,n){1&o&&(t.TgZ(0,"div",16),t._uU(1," Debes subir un archivo "),t.qZA())}let vt=(()=>{class o{constructor(e,i,r,s,c,u){this.fb=e,this.snackBar=i,this.usuarioService=r,this.router=s,this.publicarRevistaService=c,this.activatedRoute=u,this.archivoSubido=!0,this.miFormulario=this.fb.group({fechaPublicacion:[`${this.fechaActual()}`,a.kI.required],nombreVolumen:["",a.kI.required]}),this.usuario=this.usuarioService.getUsuarioAutenticado(),this.idRevista=this.activatedRoute.snapshot.params.revista}fechaActual(){return new Date(Date.now()).toISOString().split("T")[0]}ngOnInit(){}publicarVolumen(){this.usuario?this.miFormulario.invalid?this.miFormulario.markAllAsTouched():this.archivo?this.subirArchivo(this.idRevista):this.archivoSubido=!1:this.router.navigate(["./autenticacion/login"])}fileUpload(e){const i=e.target.files;null!=i&&(this.archivo=i.item(0),console.log(this.archivo))}subirArchivo(e){null!=this.archivo&&this.publicarRevistaService.subirArchivoVolumen(this.archivo).subscribe(i=>{this.guardarVolumen(e,i.id)})}guardarVolumen(e,i){var r,s;const c=null===(r=this.miFormulario.get("nombreVolumen"))||void 0===r?void 0:r.value,u=null===(s=this.miFormulario.get("fechaPublicacion"))||void 0===s?void 0:s.value,p=new M(0,e,c,u,i);this.publicarRevistaService.agregarVolumen(p).subscribe(g=>{this.mostrarSnakBar("Se ha publicado el volumen"),this.router.navigate(["./editor/mis-revistas"])})}mostrarSnakBar(e){this.snackBar.open(e,"ok",{duration:3e3})}limpiarForm(){this.miFormulario.reset()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(q.ux),t.Y36(b.i),t.Y36(h.F0),t.Y36(C),t.Y36(h.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-volumen"]],decls:28,vars:2,consts:[[1,"contenedor"],[1,"tamano","redondear"],["id","header",1,"centrar"],["autocomplete","off",3,"formGroup","ngSubmit"],["fxLayout","column"],["fxLayout","row gap",1,"elemento"],["formControlName","fechaPublicacion","type","date",1,"select-date"],["appearance","outline",1,"full-width"],["formControlName","nombreVolumen","type","text","matInput",""],["type","file",1,"invisible",3,"change"],["archivoInput",""],["class","form-text text-danger",4,"ngIf"],["mat-raised-button","","type","button","color","primary",1,"full-width","elemento",3,"click"],[1,"boton"],["mat-raised-button","","type","submit","color","accent",1,"elemento"],["id","contenido"],[1,"form-text","text-danger"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"mat-card",1),t.TgZ(2,"div"),t.TgZ(3,"mat-card-header",2),t._UZ(4,"br"),t._uU(5," Nuevo volumen "),t.qZA(),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"form",3),t.NdJ("ngSubmit",function(){return i.publicarVolumen()}),t.TgZ(8,"div",4),t.TgZ(9,"div"),t.TgZ(10,"div",5),t.TgZ(11,"label"),t._uU(12,"Fecha de publicacion: "),t.qZA(),t._UZ(13,"input",6),t.qZA(),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"mat-form-field",7),t.TgZ(16,"mat-label"),t._uU(17,"Nombre del volumen"),t.qZA(),t._UZ(18,"input",8),t.qZA(),t.TgZ(19,"input",9,10),t.NdJ("change",function(c){return i.fileUpload(c)}),t.qZA(),t.YNc(21,ft,2,0,"div",11),t.TgZ(22,"button",12),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).click()}),t._uU(23," Subir volumen "),t.qZA(),t.TgZ(24,"div",13),t.TgZ(25,"button",14),t._uU(26," Publicar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"mat-card-content",15),t.qZA(),t.qZA()}2&e&&(t.xp6(7),t.Q6J("formGroup",i.miFormulario),t.xp6(14),t.Q6J("ngIf",!i.archivoSubido))},directives:[m.a8,m.dk,a._Y,a.JL,a.sg,_.xw,a.Fj,a.JJ,a.u,Z.KE,Z.hX,U.Nt,d.O5,f.lW,m.dn],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#5e60ce}.full-width[_ngcontent-%COMP%]{width:100%}.elemento[_ngcontent-%COMP%]{margin:15px 0;font-size:23px}.select-date[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777777;width:57%;font-size:23px;background:#424242;color:#ffebcd}.redondear[_ngcontent-%COMP%]{border-radius:20px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.boton[_ngcontent-%COMP%]{display:flex;justify-content:center}.tamano[_ngcontent-%COMP%]{width:35%;height:min-content}"]}),o})(),Zt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-reportes"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},directives:[h.lC],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#5e60ce}.full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:min-content}.elemento[_ngcontent-%COMP%]{margin:12px 0;font-size:30px;height:50px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}"]}),o})(),T=(()=>{class o{constructor(e){this.http=e,this.baseUrl="http://localhost:8080/REVISTLAND/controladorReportesEditor"}obtenerReporteComentarios(e,i){return this.http.get(`${this.baseUrl}?reporte=reporteComentariosNG&fechaInicial=${e}&fechaFinal=${i}`)}obtenerReporteSuscripciones(e,i){return this.http.get(`${this.baseUrl}?reporte=reporteSuscripcionesNG&fechaInicial=${e}&fechaFinal=${i}`)}obtenerReporteRevistasMasGustadas(e,i){return this.http.get(`${this.baseUrl}?reporte=reporteRevistasMasGustadasNG&fechaInicial=${e}&fechaFinal=${i}`)}obtenerReporteGanancias(e,i){return this.http.get(`${this.baseUrl}?reporte=reporteGananciasNG&fechaInicial=${e}&fechaFinal=${i}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(S.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function _t(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.nombreUsuario),t.xp6(2),t.hij("",e.comentario," "),t.xp6(2),t.Oqu(e.fechaComentario)}}function bt(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table",12),t.TgZ(2,"thead",13),t.TgZ(3,"tr",14),t.TgZ(4,"td",15),t.TgZ(5,"strong"),t._uU(6,"Revista: "),t.qZA(),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"tr",14),t.TgZ(9,"td",15),t.TgZ(10,"strong"),t._uU(11,"Editor: "),t.qZA(),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"tr",14),t.TgZ(14,"td",15),t.TgZ(15,"strong"),t._uU(16,"Numero de comentarios: "),t.qZA(),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t.TgZ(19,"th"),t._uU(20,"NOMBRE DE USUARIO"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"COMENTARIO"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"FECHA"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tbody"),t.YNc(26,_t,7,3,"tr",11),t.qZA(),t.qZA(),t._UZ(27,"br"),t.qZA()),2&o){const e=n.$implicit;t.xp6(7),t.hij(" ",e.datosRevista.nombreRevista," "),t.xp6(5),t.hij(" ",e.datosRevista.nombreEditor,""),t.xp6(5),t.hij(" ",e.numComentarios,""),t.xp6(9),t.Q6J("ngForOf",e.comentarios)}}let At=(()=>{class o{constructor(e,i,r){this.fb=e,this.fechaService=i,this.reportesEditorService=r,this.miFormulario=this.fb.group({fechaInicial:["",a.kI.required],fechaFinal:["",a.kI.required]})}ngOnInit(){this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaInicial.setValue(e.fecha),this.miFormulario.controls.fechaFinal.setValue(e.fecha)})}solicitarReporte(){var e,i;let r=null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value,s=null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value;this.reportesEditorService.obtenerReporteComentarios(r,s).subscribe(c=>{this.reportes=c})}urlPeticionReporte(){var e,i;return`http://localhost:8080/REVISTLAND/controladorReportesEditor?reporte=reporteComentarios&fechaInicial=${null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value}&fechaFinal=${null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value}`}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(v.s),t.Y36(T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-comentarios"]],decls:20,vars:3,consts:[[1,"container","my-5"],[1,"d-flex"],[2,"margin-right","10px"],[1,"d-flex","align-items-center","me-auto"],["autocomplete","off",3,"formGroup","ngSubmit"],["formControlName","fechaInicial","type","date","name","fechaInicial",2,"width","140px"],[2,"padding-left","8px"],["formControlName","fechaFinal","type","date","name","fechaFinal",2,"width","140px"],["type","submit","value","Mostrar"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-primary",3,"href"],[4,"ngFor","ngForOf"],[1,"table","tabla"],[1,"table-dark"],[1,"bordes"],["colspan","3"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1"),t._uU(4,"REPORTE DE COMENTARIOS"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return i.solicitarReporte()}),t.TgZ(7,"label"),t._uU(8,"Fecha inicial"),t.qZA(),t._UZ(9,"input",5),t.TgZ(10,"label",6),t._uU(11,"Fecha final"),t.qZA(),t._UZ(12,"input",7),t._UZ(13,"input",8),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"a",10),t._uU(16,"EXPORTAR REPORTE"),t.qZA(),t.qZA(),t.qZA(),t._UZ(17,"br"),t._UZ(18,"br"),t.YNc(19,bt,28,4,"div",11),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formGroup",i.miFormulario),t.xp6(9),t.Q6J("href",i.urlPeticionReporte(),t.LSH),t.xp6(4),t.Q6J("ngForOf",i.reportes))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.sg],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:max-content}.elemento[_ngcontent-%COMP%]{margin:12px 0;font-size:27px;height:50px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.tabla[_ngcontent-%COMP%]{font-size:19px}.contenedor[_ngcontent-%COMP%]{background-color:#222;color:#fff;border-top:1px solid #fff;padding:12px}.bordes[_ngcontent-%COMP%]{border-bottom:1px solid rgb(116,116,116)}.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:7px}"]}),o})();function Tt(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.nombreUsuario),t.xp6(2),t.Oqu(e.fechaSuscripcion)}}function xt(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table",12),t.TgZ(2,"thead",13),t.TgZ(3,"tr",14),t.TgZ(4,"td"),t.TgZ(5,"strong"),t._uU(6,"Revista: "),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"strong"),t._uU(10,"Numero de suscripciones:"),t.qZA(),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"tr",14),t.TgZ(13,"td",15),t.TgZ(14,"strong"),t._uU(15,"Editor: "),t.qZA(),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"tr"),t.TgZ(18,"th"),t._uU(19,"NOMBRE DE USUARIO"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"FECHA DE SUSCRIPCION"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,Tt,5,2,"tr",11),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(7),t.hij(" ",e.datosRevista.nombreRevista," "),t.xp6(4),t.hij(" ",e.numSuscripciones,""),t.xp6(5),t.hij(" ",e.datosRevista.nombreEditor,""),t.xp6(7),t.Q6J("ngForOf",e.suscripciones)}}let Ct=(()=>{class o{constructor(e,i,r){this.fb=e,this.fechaService=i,this.reportesEditorService=r,this.miFormulario=this.fb.group({fechaInicial:["",a.kI.required],fechaFinal:["",a.kI.required]})}ngOnInit(){this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaInicial.setValue(e.fecha),this.miFormulario.controls.fechaFinal.setValue(e.fecha)})}solicitarReporte(){var e,i;let r=null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value,s=null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value;this.reportesEditorService.obtenerReporteSuscripciones(r,s).subscribe(c=>{this.reportes=c})}urlPeticionReporte(){var e,i;return`http://localhost:8080/REVISTLAND/controladorReportesEditor?reporte=reporteSuscripciones&fechaInicial=${null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value}&fechaFinal=${null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value}`}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(v.s),t.Y36(T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-suscripciones"]],decls:19,vars:3,consts:[[1,"container","my-5"],[1,"d-flex"],[2,"margin-right","10px"],[1,"d-flex","align-items-center","me-auto"],["autocomplete","off",3,"formGroup","ngSubmit"],["formControlName","fechaInicial","type","date","name","fechaInicial",2,"width","140px"],[2,"padding-left","8px"],["formControlName","fechaFinal","type","date","name","fechaFinal",2,"width","140px"],["type","submit","value","Mostrar"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-primary",3,"href"],[4,"ngFor","ngForOf"],[1,"table","tabla"],[1,"table-dark"],[1,"bordes"],["colspan","2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1"),t._uU(4,"REPORTE DE SUSCRIPCIONES"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return i.solicitarReporte()}),t.TgZ(7,"label"),t._uU(8,"Fecha inicial"),t.qZA(),t._UZ(9,"input",5),t.TgZ(10,"label",6),t._uU(11,"Fecha final"),t.qZA(),t._UZ(12,"input",7),t._UZ(13,"input",8),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"a",10),t._uU(16,"EXPORTAR REPORTE"),t.qZA(),t.qZA(),t.qZA(),t._UZ(17,"br"),t.YNc(18,xt,24,4,"div",11),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formGroup",i.miFormulario),t.xp6(9),t.Q6J("href",i.urlPeticionReporte(),t.LSH),t.xp6(3),t.Q6J("ngForOf",i.reportes))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.sg],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:max-content}.elemento[_ngcontent-%COMP%]{margin:12px 0;font-size:27px;height:50px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.tabla[_ngcontent-%COMP%]{font-size:19px}.contenedor[_ngcontent-%COMP%]{background-color:#222;color:#fff;border-top:1px solid #fff;padding:12px}.bordes[_ngcontent-%COMP%]{border-bottom:1px solid rgb(116,116,116)}.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:7px}"]}),o})();function qt(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.nombreUsuario),t.xp6(2),t.Oqu(e.fechaMeGusta)}}function Ut(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table",12),t.TgZ(2,"thead",13),t.TgZ(3,"tr",14),t.TgZ(4,"td"),t.TgZ(5,"strong"),t._uU(6,"Revista: "),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"strong"),t._uU(10,"Numero de me gustas:"),t.qZA(),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"tr",14),t.TgZ(13,"td",15),t.TgZ(14,"strong"),t._uU(15,"Editor: "),t.qZA(),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"tr"),t.TgZ(18,"th"),t._uU(19,"NOMBRE DE USUARIO"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"FECHA DEL ME GUSTA"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,qt,5,2,"tr",11),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(7),t.hij(" ",e.datosRevista.nombreRevista," "),t.xp6(4),t.hij(" ",e.numMeGustas,""),t.xp6(5),t.hij(" ",e.datosRevista.nombreEditor,""),t.xp6(7),t.Q6J("ngForOf",e.meGustas)}}let Pt=(()=>{class o{constructor(e,i,r){this.fb=e,this.fechaService=i,this.reportesEditorService=r,this.miFormulario=this.fb.group({fechaInicial:["",a.kI.required],fechaFinal:["",a.kI.required]})}ngOnInit(){this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaInicial.setValue(e.fecha),this.miFormulario.controls.fechaFinal.setValue(e.fecha)})}solicitarReporte(){var e,i;let r=null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value,s=null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value;this.reportesEditorService.obtenerReporteRevistasMasGustadas(r,s).subscribe(c=>{this.reportes=c})}urlPeticionReporte(){var e,i;return`http://localhost:8080/REVISTLAND/controladorReportesEditor?reporte=reporteRevistasMasGustadas&fechaInicial=${null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value}&fechaFinal=${null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value}`}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(v.s),t.Y36(T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-revistas-mas-gustadas"]],decls:19,vars:3,consts:[[1,"container","my-5"],[1,"d-flex"],[2,"margin-right","10px"],[1,"d-flex","align-items-center","me-auto"],["autocomplete","off",3,"formGroup","ngSubmit"],["formControlName","fechaInicial","type","date","name","fechaInicial",2,"width","140px"],[2,"padding-left","8px"],["formControlName","fechaFinal","type","date","name","fechaFinal",2,"width","140px"],["type","submit","value","Mostrar"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-primary",3,"href"],[4,"ngFor","ngForOf"],[1,"table","tabla"],[1,"table-dark"],[1,"bordes"],["colspan","2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1"),t._uU(4,"REPORTE DE REVISTAS MAS GUSTADAS"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return i.solicitarReporte()}),t.TgZ(7,"label"),t._uU(8,"Fecha inicial"),t.qZA(),t._UZ(9,"input",5),t.TgZ(10,"label",6),t._uU(11,"Fecha final"),t.qZA(),t._UZ(12,"input",7),t._UZ(13,"input",8),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"a",10),t._uU(16,"EXPORTAR REPORTE"),t.qZA(),t.qZA(),t.qZA(),t._UZ(17,"br"),t.YNc(18,Ut,24,4,"div",11),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formGroup",i.miFormulario),t.xp6(9),t.Q6J("href",i.urlPeticionReporte(),t.LSH),t.xp6(3),t.Q6J("ngForOf",i.reportes))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.sg],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:max-content}.elemento[_ngcontent-%COMP%]{margin:12px 0;font-size:27px;height:50px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.tabla[_ngcontent-%COMP%]{font-size:19px}.contenedor[_ngcontent-%COMP%]{background-color:#222;color:#fff;border-top:1px solid #fff;padding:12px}.bordes[_ngcontent-%COMP%]{border-bottom:1px solid rgb(116,116,116)}.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:7px}"]}),o})();function Ft(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.nombreUsuario),t.xp6(2),t.Oqu(e.fechaSuscripcion),t.xp6(2),t.Oqu(e.ganancia)}}function Rt(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table",13),t.TgZ(2,"thead",14),t.TgZ(3,"tr",15),t.TgZ(4,"td",16),t.TgZ(5,"strong"),t._uU(6,"Revista: "),t.qZA(),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"tr",15),t.TgZ(9,"td",16),t.TgZ(10,"strong"),t._uU(11,"Editor: "),t.qZA(),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"tr",15),t.TgZ(14,"td",16),t.TgZ(15,"strong"),t._uU(16,"Ganancia total: "),t.qZA(),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t.TgZ(19,"th"),t._uU(20,"NOMBRE DE USUARIO"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"FECHA DE SUSCRIPCION"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"GANANCIA"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tbody"),t.YNc(26,Ft,7,3,"tr",11),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(7),t.hij(" ",e.datosRevista.nombreRevista," "),t.xp6(5),t.hij(" ",e.datosRevista.nombreEditor,""),t.xp6(5),t.hij(" ",e.gananciaTotal,""),t.xp6(9),t.Q6J("ngForOf",e.registrosGanancias)}}function Ot(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",12),t._uU(2),t.qZA(),t._UZ(3,"br"),t._UZ(4,"br"),t.YNc(5,Rt,27,4,"div",11),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.hij(" GANANCIA TOTAL: ",e.gananciaTotal," "),t.xp6(3),t.Q6J("ngForOf",e.tablas)}}const Mt=[{path:"",component:J,children:[{path:"publicar",component:et},{path:"mis-revistas",component:gt},{path:"agregar-volumen/:revista",component:vt},{path:"reportes",component:Zt,children:[{path:"listado",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-listado"]],decls:13,vars:0,consts:[[1,"contenedor"],["fxLayout","column",1,"tamano","redondear"],[1,"centrar"],["mat-raised-button","","routerLink","/editor/reportes/comentarios","type","button","color","primary",1,"full-width","elemento"],["mat-raised-button","","routerLink","/editor/reportes/suscripciones","type","button","color","primary",1,"full-width","elemento"],["mat-raised-button","","routerLink","/editor/reportes/revistas-mas-gustadas","type","button","color","primary",1,"full-width","elemento"],["mat-raised-button","","routerLink","/editor/reportes/ganancias","type","button","color","primary",1,"full-width","elemento"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card",1),t.TgZ(2,"mat-card-title",2),t.TgZ(3,"div"),t._uU(4,"REPORTES"),t.qZA(),t.qZA(),t.TgZ(5,"button",3),t._uU(6," Reporte de comentarios "),t.qZA(),t.TgZ(7,"button",4),t._uU(8," Reporte de suscripciones "),t.qZA(),t.TgZ(9,"button",5),t._uU(10," Reporte de revistas mas gustadas "),t.qZA(),t.TgZ(11,"button",6),t._uU(12," Reporte de ganancias "),t.qZA(),t.qZA(),t.qZA())},directives:[m.a8,_.xw,m.n5,f.lW,h.rH],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#5e60ce}.full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:min-content}.elemento[_ngcontent-%COMP%]{margin:12px 0;font-size:27px;height:50px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}"]}),o})()},{path:"comentarios",component:At},{path:"suscripciones",component:Ct},{path:"revistas-mas-gustadas",component:Pt},{path:"ganancias",component:(()=>{class o{constructor(e,i,r){this.fb=e,this.fechaService=i,this.reportesEditorService=r,this.miFormulario=this.fb.group({fechaInicial:["",a.kI.required],fechaFinal:["",a.kI.required]})}ngOnInit(){this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaInicial.setValue(e.fecha),this.miFormulario.controls.fechaFinal.setValue(e.fecha)})}solicitarReporte(){var e,i;let r=null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value,s=null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value;this.reportesEditorService.obtenerReporteGanancias(r,s).subscribe(c=>{this.reportes=c})}urlPeticionReporte(){var e,i;return`http://localhost:8080/REVISTLAND/controladorReportesEditor?reporte=reporteGanancias&fechaInicial=${null===(e=this.miFormulario.get("fechaInicial"))||void 0===e?void 0:e.value}&fechaFinal=${null===(i=this.miFormulario.get("fechaFinal"))||void 0===i?void 0:i.value}`}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(v.s),t.Y36(T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ganancias"]],decls:18,vars:3,consts:[[1,"container","my-5"],[1,"d-flex"],[2,"margin-right","10px"],[1,"d-flex","align-items-center","me-auto"],["autocomplete","off",3,"formGroup","ngSubmit"],["formControlName","fechaInicial","type","date","name","fechaInicial",2,"width","140px"],[2,"padding-left","8px"],["formControlName","fechaFinal","type","date","name","fechaFinal",2,"width","140px"],["type","submit","value","Mostrar"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-primary",3,"href"],[4,"ngFor","ngForOf"],[1,"contenedor","d-inline-flex"],[1,"table","tabla"],[1,"table-dark"],[1,"bordes"],["colspan","3"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1"),t._uU(4,"REPORTE DE GANANCIAS"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return i.solicitarReporte()}),t.TgZ(7,"label"),t._uU(8,"Fecha inicial"),t.qZA(),t._UZ(9,"input",5),t.TgZ(10,"label",6),t._uU(11,"Fecha final"),t.qZA(),t._UZ(12,"input",7),t._UZ(13,"input",8),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"a",10),t._uU(16,"EXPORTAR REPORTE"),t.qZA(),t.qZA(),t.qZA(),t.YNc(17,Ot,6,2,"div",11),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formGroup",i.miFormulario),t.xp6(9),t.Q6J("href",i.urlPeticionReporte(),t.LSH),t.xp6(2),t.Q6J("ngForOf",i.reportes))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.sg],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:max-content}.elemento[_ngcontent-%COMP%]{margin:12px 0;font-size:27px;height:50px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.tabla[_ngcontent-%COMP%]{font-size:19px}.contenedor[_ngcontent-%COMP%]{background-color:#222;color:#fff;border-top:1px solid #fff;padding:12px}.bordes[_ngcontent-%COMP%]{border-bottom:1px solid rgb(116,116,116)}.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:7px}"]}),o})()}]}]},{path:"perfil",component:V.k}];let St=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(Mt)],h.Bz]}),o})();var It=l(2898),yt=l(3356),wt=l(760);let Et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,St,It.q,yt.o9,wt.s,a.UX]]}),o})()}}]);