"use strict";(self.webpackChunkrevistland=self.webpackChunkrevistland||[]).push([[186],{4186:(Yt,q,r)=>{r.r(q),r.d(q,{ConsumidorModule:()=>zt});var m=r(8583),p=r(4655),t=r(7716),S=r(2522),T=r(8295),w=r(9983),v=r(1095),b=r(5384),F=r(6627),u=r(5618),y=r(572),f=r(614),z=r(9075);function I(n,o){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",6),t.TgZ(2,"div",7),t.TgZ(3,"p",8),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.textoAnuncio)}}function Y(n,o){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.imagen,t.LSH)}}function L(n,o){if(1&n&&t._UZ(0,"iframe",10),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("src",i.formatearLink(e.linkVideo),t.uOi)}}function N(n,o){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,I,5,1,"div",3),t.YNc(2,Y,1,1,"img",4),t.YNc(3,L,1,1,"iframe",5),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.idTipoAnuncio),t.xp6(1),t.Q6J("ngIf",2==e.idTipoAnuncio),t.xp6(1),t.Q6J("ngIf",3==e.idTipoAnuncio)}}let J=(()=>{class n{constructor(e,i,a){var c;this.anunciosService=e,this.usuarioService=i,this.sanitizer=a,this.anuncios=[],this.linkPrueba="https://www.youtube.com/embed/BF5R1IhsVrE",this.usuario=this.usuarioService.getUsuarioAutenticado(),this.anunciosService.obtenerRecomendacionesAnuncios(null===(c=this.usuario)||void 0===c?void 0:c.nombre).subscribe(l=>{this.allAnuncios=l,console.log(l),setInterval(()=>{this.anuncios=[];for(let g=0;g<3;g++)this.anuncios.push(this.allAnuncios[this.generarNumeroAleatorio(0,this.allAnuncios.length-1)])},5e3)})}ngOnInit(){}formatearLink(e){console.log(e);const a=e.split("=")[1];return this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${a}?loop=1&autoplay=1&playlist=${a}&controls=0&mute=1`)}generarNumeroAleatorio(e,i){return Math.floor(e+Math.random()*(i-e+1))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.L),t.Y36(f.i),t.Y36(z.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-anuncios"]],decls:2,vars:1,consts:[["fxLayout","column",1,"contenedor"],["class","cuadrado",4,"ngFor","ngForOf"],[1,"cuadrado"],[4,"ngIf"],["class","max-width",3,"src",4,"ngIf"],["class","max-width","height","350px","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src",4,"ngIf"],[1,"card","contenedor-texto","max-width"],[1,"card-body"],[1,"card-text","texto-anuncio"],[1,"max-width",3,"src"],["height","350px","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"max-width",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,N,4,3,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.anuncios))},directives:[u.xw,m.sg,m.O5],styles:[".cuadrado[_ngcontent-%COMP%]{width:100%;height:auto}.contenedor[_ngcontent-%COMP%]{height:auto;min-height:100%}.max-width[_ngcontent-%COMP%]{width:100%}.texto-anuncio[_ngcontent-%COMP%]{font-size:45px;line-height:1;padding-top:20px;padding-bottom:20px}.contenedor-texto[_ngcontent-%COMP%]{height:min-content;text-align:center;background-color:#ff0}"]}),n})(),j=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-inicio"]],decls:34,vars:1,consts:[[1,"toolbar"],["routerLink","./inicio",1,"clickeable"],[1,"spacer"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-search"],["d","M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"],["appearance","legacy",1,"full-width","buscador"],["matInput","","placeholder","Buscar"],["routerLink","./mis-revistas","mat-raised-button","","color","primary",1,"boton"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","45","height","45","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-caret-down"],["d","M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"],["menu","matMenu"],["mat-menu-item","","routerLink","/usuario/perfil"],["mat-menu-item","","routerLink","/autenticacion/login"],["fxLayout","row",1,"contenedor"],[1,"contenido"],[1,"anuncios"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"mat-toolbar",0),t.TgZ(2,"span",1),t._uU(3,"REVISTLAND"),t.qZA(),t._UZ(4,"span",2),t.TgZ(5,"span"),t.O4$(),t.TgZ(6,"svg",3),t._UZ(7,"path",4),t.qZA(),t.qZA(),t.kcU(),t.TgZ(8,"mat-form-field",5),t._UZ(9,"input",6),t.qZA(),t._UZ(10,"span",2),t.TgZ(11,"button",7),t._uU(12,"Mis revistas"),t.qZA(),t._UZ(13,"span",2),t.TgZ(14,"button",8),t.O4$(),t.TgZ(15,"svg",9),t._UZ(16,"path",10),t.qZA(),t.qZA(),t.kcU(),t.TgZ(17,"mat-menu",null,11),t.TgZ(19,"button",12),t.TgZ(20,"mat-icon"),t._uU(21,"person"),t.qZA(),t.TgZ(22,"span"),t._uU(23,"Perfil"),t.qZA(),t.qZA(),t.TgZ(24,"button",13),t.TgZ(25,"mat-icon"),t._uU(26,"logout"),t.qZA(),t.TgZ(27,"span"),t._uU(28,"Salir"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",14),t.TgZ(30,"div",15),t._UZ(31,"router-outlet"),t.qZA(),t.TgZ(32,"div",16),t._UZ(33,"app-anuncios"),t.qZA(),t.qZA()),2&e){const a=t.MAs(18);t.xp6(14),t.Q6J("matMenuTriggerFor",a)}},directives:[S.Ye,p.rH,T.KE,w.Nt,v.lW,b.p6,b.VK,b.OP,F.Hw,u.xw,p.lC,J],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.full-width[_ngcontent-%COMP%]{width:60%}.toolbar[_ngcontent-%COMP%]{height:100px}.buscador[_ngcontent-%COMP%]{font-size:25px}.boton[_ngcontent-%COMP%]{height:50%;width:10%;font-size:25px}.clickeable[_ngcontent-%COMP%]{cursor:pointer}.contenido[_ngcontent-%COMP%]{height:auto;min-height:100%;width:80%}.anuncios[_ngcontent-%COMP%]{height:auto;min-height:100%;width:20%}.contenedor[_ngcontent-%COMP%]{height:auto;min-height:100%;width:100%;background-color:#5e60ce}"]}),n})();var V=r(1068),U=r(1841);let Q=(()=>{class n{constructor(e){this.http=e,this.baseUrl="http://localhost:8080/REVISTLAND/controladorRecomendaciones"}obtenerRecomendaciones(e){return this.http.get(`${this.baseUrl}?accion=obtenerRecomendaciones&nombre=${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var d=r(3738);const E=function(n){return["/usuario/info/",n]};let k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tarjeta-revista"]],inputs:{recomendacion:"recomendacion"},decls:42,vars:10,consts:[["fxLayout","row gap"],[1,"e-imagen"],["src","https://www.designwizard.com/wp-content/uploads/2018/05/eab8b7d0-43a1-11e8-bb73-d5e318d55a9c.jpg","alt","",1,"imagen"],[1,"e-contenido","d-flex","flex-column","align-items-start"],[1,"titulo"],[1,"mb-auto"],[1,"desc"],[1,"actions"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-thumbs-up"],["d","M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-chat-text"],["d","M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"],["d","M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"],[1,"boton"],["mat-raised-button","","color","warn",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t._uU(9,"Autor: "),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"div",6),t._uU(13,"Precio mensual: "),t.TgZ(14,"span"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div",6),t._uU(17,"Precio anual: "),t.TgZ(18,"span"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",6),t._uU(21,"Publicado: "),t.TgZ(22,"span"),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div"),t.TgZ(25,"div",0),t.TgZ(26,"div",7),t.TgZ(27,"span"),t._uU(28),t.qZA(),t.TgZ(29,"span"),t.O4$(),t.TgZ(30,"svg",8),t._UZ(31,"path",9),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(32,"div",7),t.TgZ(33,"span"),t._uU(34),t.qZA(),t.TgZ(35,"span"),t.O4$(),t.TgZ(36,"svg",10),t._UZ(37,"path",11),t._UZ(38,"path",12),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(39,"div",13),t.TgZ(40,"button",14),t._uU(41," Leer mas... "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Oqu(i.recomendacion.nombreRevista),t.xp6(5),t.hij(" ",i.recomendacion.autor,""),t.xp6(4),t.Oqu(i.recomendacion.precioMensual),t.xp6(4),t.Oqu(i.recomendacion.precioAnual),t.xp6(4),t.Oqu(i.recomendacion.fechaPublicacion),t.xp6(5),t.Oqu(i.recomendacion.numLike),t.xp6(6),t.hij(" ",i.recomendacion.numComentarios," "),t.xp6(6),t.Q6J("routerLink",t.VKq(8,E,i.recomendacion.idRevista)))},directives:[d.a8,u.xw,v.lW,p.rH],styles:[".e-imagen[_ngcontent-%COMP%]{width:30%;height:min-content;margin:2px}.e-contenido[_ngcontent-%COMP%]{width:68%;margin:2px}.imagen[_ngcontent-%COMP%]{width:100%}.titulo[_ngcontent-%COMP%]{font-size:30px;margin:5px;font-weight:bold}.contenido[_ngcontent-%COMP%]{font-size:20px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.actions[_ngcontent-%COMP%]{font-size:22px;margin:8px 10px}.boton[_ngcontent-%COMP%]{padding-bottom:10px}.desc[_ngcontent-%COMP%]{margin:30px 5px;font-size:25px}"]}),n})();function D(n,o){1&n&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2,"Recomendaciones para ti"),t.qZA(),t._UZ(3,"br"),t.qZA())}function $(n,o){1&n&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2,"Ingresa mas categorias o etiquetas para recomendarte revistas"),t.qZA(),t.qZA())}function H(n,o){if(1&n&&(t.TgZ(0,"div",8),t._UZ(1,"br"),t._UZ(2,"app-tarjeta-revista",9),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("recomendacion",e)}}function B(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,D,4,0,"div",2),t.YNc(2,$,3,0,"ng-template",null,3,t.W1O),t.TgZ(4,"div",4),t.YNc(5,H,3,1,"div",5),t.qZA(),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.recomendaciones.length>0)("ngIfElse",e),t.xp6(4),t.Q6J("ngForOf",i.recomendaciones)}}let G=(()=>{class n{constructor(e,i){var a;this.recomendacionesService=e,this.usuarioService=i,this.usuario=this.usuarioService.getUsuarioAutenticado(),this.recomendacionesService.obtenerRecomendaciones(null===(a=this.usuario)||void 0===a?void 0:a.nombre).subscribe(c=>{this.recomendaciones=c})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q),t.Y36(f.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-recomendaciones"]],decls:2,vars:1,consts:[["fxLayout","row"],[4,"ngIf"],["class","titulo-contenedor",4,"ngIf","ngIfElse"],["noHayRecomendaciones",""],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","50px"],["fxFlex","45","fxFlex.lg","45","fxFlex.sm","30",4,"ngFor","ngForOf"],[1,"titulo-contenedor"],[1,"titulo"],["fxFlex","45","fxFlex.lg","45","fxFlex.sm","30"],[3,"recomendacion"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,B,6,3,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.recomendaciones))},directives:[u.xw,m.O5,u.Wh,u.SQ,m.sg,u.yH,k],styles:[".contenedor[_ngcontent-%COMP%]{height:auto;min-height:100%;width:100%;background-color:#5e60ce}.contenido[_ngcontent-%COMP%]{height:auto;min-height:100%;width:80%}.anuncios[_ngcontent-%COMP%]{height:auto;min-height:100%;width:20%;background-color:#dc143c}.titulo[_ngcontent-%COMP%]{font-size:40px;color:bisque}.titulo-contenedor[_ngcontent-%COMP%]{padding-left:50px;padding-top:60px;padding-bottom:10px}"]}),n})();var _=r(3190),A=r(842),x=r(8341),C=r(1769);function W(n,o){if(1&n&&(t.TgZ(0,"mat-chip",15),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}function X(n,o){if(1&n&&(t.TgZ(0,"mat-chip",16),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}const K=function(n){return["/usuario/compra/",n]};function tt(n,o){if(1&n&&(t.TgZ(0,"mat-card",2),t.TgZ(1,"mat-card-header"),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t._uU(7),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div",8),t.TgZ(10,"div"),t.TgZ(11,"div",9),t._uU(12,"Categorias"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"mat-chip-list"),t.YNc(15,W,3,3,"mat-chip",10),t.qZA(),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"div"),t.TgZ(18,"div",9),t._uU(19,"Etiquetas"),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"mat-chip-list"),t.YNc(22,X,3,3,"mat-chip",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div"),t.TgZ(24,"div",12),t._uU(25,"Autor: "),t.TgZ(26,"span"),t._uU(27),t.qZA(),t.qZA(),t.TgZ(28,"div",12),t._uU(29,"Precio mensual: "),t.TgZ(30,"span"),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"div",12),t._uU(33,"Precio anual: "),t.TgZ(34,"span"),t._uU(35),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div"),t.TgZ(37,"div"),t.TgZ(38,"button",13),t._uU(39,"Suscribirse"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(40,"br"),t._UZ(41,"mat-divider"),t._UZ(42,"br"),t.TgZ(43,"mat-card-content"),t.TgZ(44,"div",9),t._uU(45," Descripcion: "),t.qZA(),t._UZ(46,"br"),t.TgZ(47,"div",14),t._uU(48),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(e.detalleRevista.nombreRevista),t.xp6(8),t.Q6J("ngForOf",e.detalleRevista.categorias),t.xp6(7),t.Q6J("ngForOf",e.detalleRevista.etiquetas),t.xp6(5),t.hij(" ",e.detalleRevista.autor,""),t.xp6(4),t.Oqu(e.detalleRevista.precioMensual),t.xp6(4),t.Oqu(e.detalleRevista.precioAnual),t.xp6(3),t.Q6J("routerLink",t.VKq(8,K,e.detalleRevista.idRevista)),t.xp6(10),t.hij(" ",e.detalleRevista.descripcionRevista," ")}}let et=(()=>{class n{constructor(e,i){this.activatedRoute=e,this.detalleRevistaService=i}ngOnInit(){this.activatedRoute.params.pipe((0,_.w)(({revista:e})=>this.detalleRevistaService.obtenerDetalleRevista(e))).subscribe(e=>this.detalleRevista=e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(A.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desc-revista"]],decls:2,vars:1,consts:[[1,"fondo"],["class","redondear tamano",4,"ngIf"],[1,"redondear","tamano"],["fxLayout","row gap"],[1,"e-imagen"],["src","https://www.designwizard.com/wp-content/uploads/2018/05/eab8b7d0-43a1-11e8-bb73-d5e318d55a9c.jpg","alt","",1,"imagen"],[1,"e-contenido","d-flex","flex-column","align-items-start","contenedor"],[1,"titulo"],["fxLayout","column"],[1,"subtitulo"],["color","accent","selected","",4,"ngFor","ngForOf"],["color","warn","selected","",4,"ngFor","ngForOf"],[1,"desc"],["mat-raised-button","","color","warn",1,"boton",3,"routerLink"],[1,"contenido"],["color","accent","selected",""],["color","warn","selected",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,tt,49,10,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.detalleRevista))},directives:[m.O5,d.a8,d.dk,u.xw,x.qn,m.sg,v.lW,p.rH,C.d,d.dn,x.HS],pipes:[m.rS],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:50%;height:auto}.fondo[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#7b1fa2}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.e-imagen[_ngcontent-%COMP%]{width:38%;height:min-content;margin:2px}.e-contenido[_ngcontent-%COMP%]{width:58%;margin:2px}.imagen[_ngcontent-%COMP%]{width:100%}.titulo[_ngcontent-%COMP%]{font-size:30px;margin:5px 0;font-weight:bold}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.actions[_ngcontent-%COMP%]{font-size:22px;margin:8px 10px}.boton[_ngcontent-%COMP%]{padding-bottom:7px;font-size:30px}.desc[_ngcontent-%COMP%]{margin:30px 5px;font-size:25px}.contenido[_ngcontent-%COMP%]{font-size:20px}.subtitulo[_ngcontent-%COMP%]{font-size:25px}.contenedor[_ngcontent-%COMP%]{margin-left:13px}"]}),n})();var s=r(3679);class nt{constructor(o,e,i,a,c,l,h,g,Z){this._idTipoPago=o,this._idRevista=e,this._fechaSuscripcion=i,this._fechaFinalizacion=a,this._nombreUsuario=c,this._costoTotal=l,this._gananciaEditor=h,this._cuotaPorServicio=g,this._vigente=Z}get nombreUsuario(){return this._nombreUsuario}set nombreUsuario(o){this._nombreUsuario=o}get vigente(){return this._vigente}set vigente(o){this._vigente=o}get cuotaPorServicio(){return this._cuotaPorServicio}set cuotaPorServicio(o){this._cuotaPorServicio=o}get gananciaEditor(){return this._gananciaEditor}set gananciaEditor(o){this._gananciaEditor=o}get costoTotal(){return this._costoTotal}set costoTotal(o){this._costoTotal=o}get fechaFinalizacion(){return this._fechaFinalizacion}set fechaFinalizacion(o){this._fechaFinalizacion=o}get fechaSuscripcion(){return this._fechaSuscripcion}set fechaSuscripcion(o){this._fechaSuscripcion=o}get idRevista(){return this._idRevista}set idRevista(o){this._idRevista=o}get idTipoPago(){return this._idTipoPago}set idTipoPago(o){this._idTipoPago=o}}let O=(()=>{class n{constructor(e){this.http=e,this.baseUrl="http://localhost:8080/REVISTLAND/suscripcionControlador"}registrarSuscripcion(e){return this.http.post(`${this.baseUrl}?accion=registrarSuscripcion`,e)}obtenerRevistasSuscritas(e){return this.http.get(`${this.baseUrl}?accion=obtenerSuscripcionesUsuario&nombre=${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=r(6458),P=r(2839),R=r(2613);function ot(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.detalleRevista.nombreRevista," ")}}function it(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.detalleRevista.precioMensual)}}function at(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,it,2,1,"span",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.detalleRevista)}}function ct(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.detalleRevista.precioAnual)}}function rt(n,o){if(1&n&&t.YNc(0,ct,2,1,"span",11),2&n){const e=t.oxw();t.Q6J("ngIf",e.detalleRevista)}}let st=(()=>{class n{constructor(e,i,a,c,l,h,g,Z){this.activatedRoute=e,this.detalleRevistaService=i,this.fb=a,this.usuarioService=c,this.router=l,this.suscripcionService=h,this.snackBar=g,this.fechaService=Z,this.miFormulario=this.fb.group({tipoPago:["1",s.kI.required],fechaCompra:["",s.kI.required]})}ngOnInit(){this.activatedRoute.params.pipe((0,_.w)(({revista:e})=>this.detalleRevistaService.obtenerDetalleRevista(e))).subscribe(e=>this.detalleRevista=e),this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaCompra.setValue(e.fecha)}),this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaCompra.setValue(e.fecha)})}registrarSuscripcion(){var e,i,a;const c=null===(e=this.miFormulario.get("tipoPago"))||void 0===e?void 0:e.value,l=null===(i=this.miFormulario.get("fechaCompra"))||void 0===i?void 0:i.value,h=null===(a=this.usuarioService.getUsuarioAutenticado())||void 0===a?void 0:a.nombre,g=new nt(c,this.detalleRevista.idRevista,l,this.fechaFinalizacion(l),h,this.costoTotal(),0,0,1);this.suscripcionService.registrarSuscripcion(g).subscribe(Z=>{this.mostrarSnakBar("Compra realizada"),this.router.navigate(["./usuario/inicio"])})}fechaFinalizacion(e){var i;let a=e.split("-"),c=new Date(Number(a[0]),Number(a[1])-1,Number(a[2])),l=null===(i=this.miFormulario.get("tipoPago"))||void 0===i?void 0:i.value;return this.costoTotal()<1&&(l=3),c.setDate(1==l?c.getDate()+30:2==l?c.getDate()+365:c.getDate()+3650),c.toISOString().split("T")[0]}costoTotal(){var e;const i=null===(e=this.miFormulario.get("tipoPago"))||void 0===e?void 0:e.value;let a=0;return 1==i?a=this.detalleRevista.precioMensual:2==i&&(a=this.detalleRevista.precioAnual),a}fechaActual(){return new Date(Date.now()).toISOString().split("T")[0]}mostrarSnakBar(e){this.snackBar.open(e,"ok",{duration:3e3})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(A.V),t.Y36(s.qu),t.Y36(f.i),t.Y36(p.F0),t.Y36(O),t.Y36(M.ux),t.Y36(P.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-compra"]],decls:45,vars:4,consts:[[1,"fondo"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"redondear","tamano"],[1,"centrar","titulo"],[1,"subtitulo","tamano-sub"],["formControlName","tipoPago"],["fxLayout","row","fxLayoutAlign","space-around center"],[1,"tamano-sub"],["value","1"],["value","2"],["fxLayout","row",1,"detalle"],[4,"ngIf"],[1,"spacer"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["formControlName","fechaCompra","type","date",1,"select-date"],["mat-raised-button","","color","accent",1,"full-width","tamano-sub","boton"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return i.registrarSuscripcion()}),t.TgZ(2,"mat-card",2),t._UZ(3,"br"),t.TgZ(4,"mat-card-title",3),t._uU(5," REALIZAR COMPRA "),t.qZA(),t._UZ(6,"br"),t._UZ(7,"br"),t.TgZ(8,"mat-card-content"),t.TgZ(9,"div",4),t._uU(10," TIPO DE PAGO "),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"mat-radio-group",5),t.TgZ(13,"div",6),t.TgZ(14,"div",7),t.TgZ(15,"mat-radio-button",8),t._uU(16,"Mensual"),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"mat-radio-button",9),t._uU(19,"Anual"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(20,"br"),t._UZ(21,"mat-divider"),t.TgZ(22,"div"),t.TgZ(23,"div",4),t._uU(24," DESCRIPCION "),t.qZA(),t._UZ(25,"br"),t.TgZ(26,"div",10),t.YNc(27,ot,2,1,"div",11),t._UZ(28,"span",12),t.YNc(29,at,2,1,"div",13),t.YNc(30,rt,1,1,"ng-template",null,14,t.W1O),t.qZA(),t.qZA(),t._UZ(32,"br"),t._UZ(33,"mat-divider"),t.TgZ(34,"div"),t.TgZ(35,"div",4),t._uU(36," FECHA DE PAGO "),t.qZA(),t._UZ(37,"br"),t.TgZ(38,"div",10),t._UZ(39,"input",15),t.qZA(),t.qZA(),t.qZA(),t._UZ(40,"br"),t.TgZ(41,"mat-card-actions"),t.TgZ(42,"button",16),t._uU(43,"Realizar pago"),t.qZA(),t.qZA(),t._UZ(44,"mat-card-footer"),t.qZA(),t.qZA(),t.qZA()),2&e){const a=t.MAs(31);let c;t.xp6(1),t.Q6J("formGroup",i.miFormulario),t.xp6(26),t.Q6J("ngIf",i.detalleRevista),t.xp6(2),t.Q6J("ngIf",1==(null==(c=i.miFormulario.get("tipoPago"))?null:c.value))("ngIfElse",a)}},directives:[s._Y,s.JL,s.sg,d.a8,d.n5,d.dn,R.VQ,s.JJ,s.u,u.xw,u.Wh,R.U0,C.d,m.O5,s.Fj,d.hq,v.lW,d.rt],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:500px;height:auto}.fondo[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.titulo[_ngcontent-%COMP%]{font-size:33px}.subtitulo[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:10px}.tamano-sub[_ngcontent-%COMP%]{font-size:23px}.detalle[_ngcontent-%COMP%]{font-size:19px}.boton[_ngcontent-%COMP%]{height:40px}.select-date[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777777;width:57%;font-size:23px;background:#424242;color:#ffebcd}"]}),n})();function lt(n,o){if(1&n&&(t.TgZ(0,"mat-chip",12),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}function ut(n,o){if(1&n&&(t.TgZ(0,"mat-chip",13),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}const mt=function(n){return["/usuario/volumenes/",n]};let dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tarjeta-mi-revista"]],inputs:{miRevista:"miRevista"},decls:38,vars:9,consts:[["fxLayout","row gap"],[1,"e-imagen"],["src","https://www.designwizard.com/wp-content/uploads/2018/05/eab8b7d0-43a1-11e8-bb73-d5e318d55a9c.jpg","alt","",1,"imagen"],[1,"e-contenido","d-flex","flex-column","align-items-start"],[1,"titulo"],[1,"desc"],["fxLayout","column"],["color","accent","selected","",4,"ngFor","ngForOf"],["color","warn","selected","",4,"ngFor","ngForOf"],[1,"mb-auto"],[1,"boton"],["mat-raised-button","","color","warn",3,"routerLink"],["color","accent","selected",""],["color","warn","selected",""]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"div",5),t._uU(9,"Autor: "),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"div",5),t._uU(13,"Fecha de suscripcion: "),t.TgZ(14,"span"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div",5),t._uU(17,"Fecha de finalizacion: "),t.TgZ(18,"span"),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",6),t.TgZ(21,"div"),t.TgZ(22,"div",5),t._uU(23,"Categorias"),t.qZA(),t.TgZ(24,"mat-chip-list"),t.YNc(25,lt,3,3,"mat-chip",7),t.qZA(),t.qZA(),t.TgZ(26,"div"),t.TgZ(27,"div",5),t._uU(28,"Etiquetas"),t.qZA(),t.TgZ(29,"mat-chip-list"),t.YNc(30,ut,3,3,"mat-chip",8),t.qZA(),t.qZA(),t.qZA(),t._UZ(31,"div",9),t._UZ(32,"br"),t.TgZ(33,"div"),t.TgZ(34,"div",0),t.TgZ(35,"div",10),t.TgZ(36,"button",11),t._uU(37," VER VOLUMENES "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Oqu(i.miRevista.nombreRevista),t.xp6(5),t.hij(" ",i.miRevista.autor,""),t.xp6(4),t.Oqu(i.miRevista.fechaSuscripcion),t.xp6(4),t.Oqu(i.miRevista.fechaFinalizacion),t.xp6(6),t.Q6J("ngForOf",i.miRevista.categorias),t.xp6(5),t.Q6J("ngForOf",i.miRevista.etiquetas),t.xp6(6),t.Q6J("routerLink",t.VKq(7,mt,i.miRevista.idRevista)))},directives:[d.a8,u.xw,x.qn,m.sg,v.lW,p.rH,x.HS],pipes:[m.rS],styles:[".e-imagen[_ngcontent-%COMP%]{width:30%;height:min-content;margin:2px}.e-contenido[_ngcontent-%COMP%]{width:68%;margin:2px}.imagen[_ngcontent-%COMP%]{width:100%}.titulo[_ngcontent-%COMP%]{font-size:30px;margin:5px;font-weight:bold}.contenido[_ngcontent-%COMP%]{font-size:20px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.actions[_ngcontent-%COMP%]{font-size:22px;margin:8px 10px}.boton[_ngcontent-%COMP%]{padding-bottom:10px}.desc[_ngcontent-%COMP%]{margin:30px 5px;font-size:25px}"]}),n})();function pt(n,o){1&n&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2,"Mis revistas"),t.qZA(),t._UZ(3,"br"),t.qZA())}function gt(n,o){1&n&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2,"Aun no tienes revistas"),t.qZA(),t.qZA())}function ht(n,o){if(1&n&&(t.TgZ(0,"div",8),t._UZ(1,"br"),t._UZ(2,"app-tarjeta-mi-revista",9),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("miRevista",e)}}function vt(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,pt,4,0,"div",2),t.YNc(2,gt,3,0,"ng-template",null,3,t.W1O),t.TgZ(4,"div",4),t.YNc(5,ht,3,1,"div",5),t.qZA(),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.misRevistas.length>0)("ngIfElse",e),t.xp6(4),t.Q6J("ngForOf",i.misRevistas)}}let Zt=(()=>{class n{constructor(e,i){var a;this.suscripcionService=e,this.usuarioService=i,this.usuario=this.usuarioService.getUsuarioAutenticado(),this.suscripcionService.obtenerRevistasSuscritas(null===(a=this.usuario)||void 0===a?void 0:a.nombre).subscribe(c=>{console.log(c),this.misRevistas=c})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O),t.Y36(f.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mis-revistas"]],decls:2,vars:1,consts:[[1,"contenedor"],[4,"ngIf"],["class","titulo-contenedor",4,"ngIf","ngIfElse"],["noHayRevistas",""],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","50px"],["fxFlex","45","fxFlex.lg","45","fxFlex.sm","30",4,"ngFor","ngForOf"],[1,"titulo-contenedor"],[1,"titulo"],["fxFlex","45","fxFlex.lg","45","fxFlex.sm","30"],[3,"miRevista"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,vt,6,3,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.misRevistas))},directives:[m.O5,u.xw,u.Wh,u.SQ,m.sg,u.yH,dt],styles:[".contenedor[_ngcontent-%COMP%]{height:auto;min-height:100%;background-color:#5e60ce}.titulo[_ngcontent-%COMP%]{font-size:40px;color:bisque}.titulo-contenedor[_ngcontent-%COMP%]{padding-left:50px;padding-top:60px;padding-bottom:10px}"]}),n})();var ft=r(2351);class _t{constructor(o,e,i){this._nombreUsuario=o,this._fecha=e,this._idPulicacion=i}get idPulicacion(){return this._idPulicacion}set idPulicacion(o){this._idPulicacion=o}get fecha(){return this._fecha}set fecha(o){this._fecha=o}get nombreUsuario(){return this._nombreUsuario}set nombreUsuario(o){this._nombreUsuario=o}}var xt=r(4021),Tt=r(4307),bt=r(5828);function At(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"a",20),t.O4$(),t.TgZ(7,"svg",21),t._UZ(8,"path",22),t._UZ(9,"path",23),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(e.nombreVolumen),t.xp6(2),t.Oqu(e.fechaPublicacion),t.xp6(2),t.s9C("href",i.baseUrl+e.idArchivo,t.LSH)}}function Ct(n,o){if(1&n&&(t.TgZ(0,"table",18),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"Nombre"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Fecha de publicacion"),t.qZA(),t._UZ(7,"th"),t.qZA(),t.qZA(),t.TgZ(8,"tbody"),t.YNc(9,At,10,3,"tr",19),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.revista.volumenes)}}function qt(n,o){1&n&&(t.TgZ(0,"span",24),t._uU(1," El editor ha eliminado todos los volumenes "),t.qZA())}function wt(n,o){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t._uU(2),t.qZA(),t.TgZ(3,"div",28),t._uU(4),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.nombreUsuario," "),t.xp6(2),t.hij(" ",e.comentario," ")}}function Ut(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,wt,5,2,"div",25),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.revista.comentarios)}}function Ot(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"div",27),t._uU(2),t.qZA(),t.TgZ(3,"form",29),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw(2).comentar()}),t.TgZ(4,"mat-form-field",30),t.TgZ(5,"mat-label"),t._uU(6,"Escribe un comentario..."),t.qZA(),t._UZ(7,"input",31),t.qZA(),t.TgZ(8,"div",32),t._UZ(9,"input",33),t.qZA(),t.TgZ(10,"button",34),t.O4$(),t.TgZ(11,"svg",35),t._UZ(12,"path",36),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",null==e.usuario?null:e.usuario.nombre," "),t.xp6(1),t.Q6J("formGroup",e.miFormulario)}}function Mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",2),t.TgZ(1,"mat-card-header",3),t._uU(2),t.qZA(),t._UZ(3,"br"),t._UZ(4,"br"),t.TgZ(5,"mat-card-content"),t.YNc(6,Ct,10,1,"table",4),t.YNc(7,qt,2,0,"ng-template",null,5,t.W1O),t.qZA(),t.TgZ(9,"mat-card-actions"),t.TgZ(10,"div",6),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"span"),t._uU(14),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().accionarLike()}),t.TgZ(16,"span"),t.O4$(),t.TgZ(17,"svg",9),t._UZ(18,"path",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t._UZ(19,"div",11),t.TgZ(20,"div",7),t.TgZ(21,"span"),t._uU(22),t.qZA(),t.TgZ(23,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().mostarComentarios()}),t.TgZ(24,"span"),t.O4$(),t.TgZ(25,"svg",13),t._UZ(26,"path",14),t._UZ(27,"path",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t._UZ(28,"mat-divider"),t._UZ(29,"br"),t.TgZ(30,"mat-card-footer"),t.YNc(31,Ut,2,1,"div",16),t.YNc(32,Ot,13,2,"div",17),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(8),i=t.oxw();t.xp6(2),t.hij(" ",i.revista.nombreRevista," "),t.xp6(4),t.Q6J("ngIf",i.revista.volumenes.length>0)("ngIfElse",e),t.xp6(8),t.hij(" ",i.revista.numMeGustas," "),t.xp6(8),t.hij(" ",i.revista.numComentarios," "),t.xp6(9),t.Q6J("ngIf",i.verComentarios),t.xp6(1),t.Q6J("ngIf",i.permitirInteracciones)}}const Pt=[{path:"",component:j,children:[{path:"inicio",component:G},{path:"info/:revista",component:et},{path:"compra/:revista",component:st},{path:"mis-revistas",component:Zt},{path:"volumenes/:revista",component:(()=>{class n{constructor(e,i,a,c,l,h,g,Z,It){this.activatedRoute=e,this.detalleRevistaService=i,this.usuarioService=a,this.descargarArchivoService=c,this.fb=l,this.interaccionesService=h,this.permisosRevistaService=g,this.snackBar=Z,this.fechaService=It,this.verComentarios=!1,this.baseUrl=this.descargarArchivoService.getBaseUrlArchivos(),this.permitirInteracciones=!1,this.miFormulario=this.fb.group({comentario:["",[s.kI.required]],fechaPublicacion:[`${this.fechaActual()}`,[s.kI.required]]}),this.usuario=this.usuarioService.getUsuarioAutenticado()}ngOnInit(){this.activatedRoute.params.pipe((0,_.w)(({revista:e})=>this.detalleRevistaService.obtenerVolumenesRevista(e))).subscribe(e=>{this.revista=e,this.permisosRevistaService.esInteractiva(this.revista.idPublicacion).subscribe(i=>{this.permitirInteracciones=i.permitir})}),this.fechaService.obtenerFecha().subscribe(e=>{this.miFormulario.controls.fechaPublicacion.setValue(e.fecha)})}verArchivo(e){this.descargarArchivoService.obtenerDetalleRevista(e).subscribe(i=>console.log(i)),console.log("cargando el archivo ",e)}fechaActual(){return new Date(Date.now()).toISOString().split("T")[0]}obtenerDatosRevista(){this.activatedRoute.params.pipe((0,_.w)(({revista:e})=>this.detalleRevistaService.obtenerVolumenesRevista(e))).subscribe(e=>{this.revista=e})}accionarLike(){var e,i;if(!this.permitirInteracciones)return void this.mostrarSnakBar("El editor ha desactivado las interacciones para esta revista");const a=null===(e=this.miFormulario.get("fechaPublicacion"))||void 0===e?void 0:e.value,c=new _t(null===(i=this.usuario)||void 0===i?void 0:i.nombre,a,this.revista.idPublicacion);this.interaccionesService.meGusta(c).subscribe(l=>this.obtenerDatosRevista())}mostrarSnakBar(e){this.snackBar.open(e,"ok",{duration:3e3})}mostarComentarios(){this.verComentarios=!this.verComentarios}comentar(){var e,i,a;if(this.miFormulario.invalid)return void this.miFormulario.markAllAsTouched();const c=null===(e=this.miFormulario.get("comentario"))||void 0===e?void 0:e.value,l=null===(i=this.miFormulario.get("fechaPublicacion"))||void 0===i?void 0:i.value;if(0==c.trim().length)return;const h=new ft.M(null===(a=this.usuario)||void 0===a?void 0:a.nombre,c,l,this.revista.idPublicacion);this.interaccionesService.comentar(h).subscribe(g=>{this.miFormulario.controls.comentario.setValue(""),this.obtenerDatosRevista()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(A.V),t.Y36(f.i),t.Y36(xt.X),t.Y36(s.qu),t.Y36(Tt.$),t.Y36(bt.T),t.Y36(M.ux),t.Y36(P.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-volumenes"]],decls:2,vars:1,consts:[[1,"fondo"],["class","redondear-g tamano",4,"ngIf"],[1,"redondear-g","tamano"],[1,"centrar","titulo"],["class","table table-bordered tabla",4,"ngIf","ngIfElse"],["noHayVolumenes",""],["fxLayout","row gap"],[1,"actions"],["mat-mini-fab","","color","warn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-thumbs-up"],["d","M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"],[1,"spacer"],["mat-mini-fab","","color","primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-chat-text"],["d","M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"],["d","M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"],[4,"ngIf"],["class","comentarios",4,"ngIf"],[1,"table","table-bordered","tabla"],[4,"ngFor","ngForOf"],["mat-mini-fab","","color","accent","target","_blank",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-file-earmark-pdf"],["d","M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"],["d","M4.603 14.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.697 19.697 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.712 5.712 0 0 1-.911-.95 11.651 11.651 0 0 0-1.997.406 11.307 11.307 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.266.266 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.71 12.71 0 0 1 1.01-.193 11.744 11.744 0 0 1-.51-.858 20.801 20.801 0 0 1-.5 1.05zm2.446.45c.15.163.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.876 3.876 0 0 0-.612-.053zM8.078 7.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"],[1,"form-text","text-danger","error"],["class","comentarios",4,"ngFor","ngForOf"],[1,"comentarios"],[1,"nombre-usuario"],[1,"c-coment"],["fxLayout","row","autocomplete","off",3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["formControlName","comentario","type","text","matInput",""],[1,"elemento"],["formControlName","fechaPublicacion","type","date",1,"select-date"],["type","submit","mat-fab","","color",""],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right-square-fill"],["d","M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Mt,33,7,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.revista))},directives:[m.O5,d.a8,d.dk,d.dn,d.hq,u.xw,v.lW,C.d,d.rt,m.sg,v.zs,s._Y,s.JL,s.sg,T.KE,T.hX,s.Fj,w.Nt,s.JJ,s.u],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.redondear[_ngcontent-%COMP%]{border-radius:20px}.tamano[_ngcontent-%COMP%]{width:50%;height:auto}.fondo[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;min-height:100%;align-items:center;background-color:#7b1fa2}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:40px}.e-imagen[_ngcontent-%COMP%]{width:38%;height:min-content;margin:2px}.e-contenido[_ngcontent-%COMP%]{width:58%;margin:2px}.imagen[_ngcontent-%COMP%]{width:100%}.titulo[_ngcontent-%COMP%]{font-size:30px;margin:5px 0;font-weight:bold}.contenido[_ngcontent-%COMP%]{font-size:20px}.actions[_ngcontent-%COMP%]{font-size:22px;margin:8px 10px}.boton[_ngcontent-%COMP%]{padding-bottom:7px;font-size:30px}.desc[_ngcontent-%COMP%]{margin:30px 5px;font-size:25px}.subtitulo[_ngcontent-%COMP%]{font-size:25px}.contenedor[_ngcontent-%COMP%]{margin-left:13px}.tabla[_ngcontent-%COMP%]{color:#fff;font-size:20px}.max-width[_ngcontent-%COMP%]{width:100%}.redondear-g[_ngcontent-%COMP%]{border-radius:10px}.comentarios[_ngcontent-%COMP%]{background-color:#585858;border-radius:10px;margin:10px 15px;max-height:min-content}.nombre-usuario[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16px;font-weight:bold;margin-left:7px}.c-coment[_ngcontent-%COMP%]{font-size:15px;margin-left:7px}.select-date[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777777;width:auto;font-size:23px;background:#424242;color:#ffebcd}.elemento[_ngcontent-%COMP%]{margin:15px 0;font-size:23px}.error[_ngcontent-%COMP%]{font-size:30px}"]}),n})()}]},{path:"perfil",component:V.k}];let Rt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Pt)],p.Bz]}),n})();var St=r(2898),Ft=r(3356),yt=r(760);let zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.ez,Rt,St.q,Ft.o9,yt.s,s.UX]]}),n})()}}]);